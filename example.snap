#!/usr/bin/env snaprotate

import Prelude hiding ( (<*>) )
import SnapRotate

main = runLevels policy

policy = recent <||> weekly <||> monthly

recent = keepLast twodays <?> "keep last 48h"
weekly = keepOnePerWeekLast4Weeks <?> "one per week, last month"
monthly =  keepOnePerMonth <?> "one per month, forever"

twodays = 2 <*> day
week = 7 <*> day

keepOnePerMonth = keepOneEvery month

keepOnePerWeekLast4Weeks = keepOneEvery week <&&> keepLast month



